(()=>{"use strict";class e{constructor(e,t,n,i,r){this._title=e,this._desc=t,this._date=n,this._priority=i,this._check=r}get title(){return this._title}get desc(){return this._desc}get date(){return this._date}get priority(){return this._priority}get check(){return this._check}set title(e){this._title=e}set desc(e){this._desc=e}set date(e){this._date=e}set priority(e){this._priority=e}set check(e){this._check=e}}class t{constructor(e){this._name=e,this._task=[]}get name(){return this._name}get task(){return this._task}set name(e){this._name=e}set task(e){this._task=e}}const n=(()=>{const n=new t("Project title"),i=new e("Task title","desc","date","priority","done"),r=new e("Task title2","desc2","date2","priority2","nodone");return n.task=[i,r],n})(),i=(()=>{function e(e){localStorage.setItem("myProject",JSON.stringify(e))}return{storageMyProjects:e,removeProject:function(t){t=t;const n=JSON.parse(localStorage.getItem("myProject"));n.splice(t,1),e(n),window.location.reload()}}})(),r=function(t,n,r){let c=JSON.parse(localStorage.getItem("myProject")),o=c[t]._task;const d=document.getElementById("titleInput").value,s=document.getElementById("descriptionInput").value,l=document.getElementById("dateInput").value,a=document.getElementById("priorityInput").value;let u;u=!0===document.getElementById("checkInput").checked;const m=new e(d,s,l,a,u);return o.push(m),i.storageMyProjects(c),c},c=function(){let e=JSON.parse(localStorage.getItem("myProject"));const n=document.getElementById("ptitle").value,r=new t(n);e.push(r),i.storageMyProjects(e),window.location.reload()},o=(()=>{function e(e,t,n){for(let i=0;i<e[t]._task.length;i+=1){const r=document.createElement("div");r.classList.add("card");const c=document.createElement("div"),o=document.createElement("div"),d=document.createElement("div"),s=document.createElement("div"),l=document.createElement("div"),a=document.createElement("div"),u=document.createElement("div");let m,p;c.innerHTML=e[t]._task[i]._title,o.innerHTML=e[t]._task[i]._desc,d.innerHTML=e[t]._task[i]._date,s.innerHTML=e[t]._task[i]._priority,!0===e[t]._task[i]._check?(m="checked",p="Done"):(m="",p="Undone"),l.innerHTML=`<button class="taskStatus" type='submit' id=myCheck${i} ${m}>${p}</button>`,a.innerHTML=`<button class="taskDelete" type='submit' id=delete${i} ${m}>Remove</button>`,u.innerHTML=`<button class="taskEdit" type='submit' id=edit${i} ${m}>Edit</button>`,r.appendChild(c),r.appendChild(o),r.appendChild(d),r.appendChild(s),r.appendChild(l),r.appendChild(a),r.appendChild(u),n.appendChild(r)}return n.outerHTML}function t(e,t,n,r){console.log(e);let c=t.id.slice(7);r[e]._task[c]._check=n,i.storageMyProjects(r)}return{showProjects:function(e){let t=JSON.parse(localStorage.getItem("myProject"));null===t&&i.storageMyProjects([n]);for(let n=0;n<t.length;n+=1){const r=document.createElement("button");r.classList.add("remove"),r.id=n;let c=document.createElement("button");c.setAttribute("id",n),document.createElement("div"),c.innerHTML=t[n]._name,e.appendChild(r),e.appendChild(c),r.addEventListener("click",(()=>{i.removeProject(this.id)})),r.innerHTML="Remove"}},showTask:function n(c){const o=document.getElementById("task"),d=document.createElement("div");d.id="taskList";let s=JSON.parse(localStorage.getItem("myProject"));const l=document.createElement("form"),a=document.createElement("label"),u=document.createElement("input"),m=document.createElement("label"),p=document.createElement("input"),h=document.createElement("label"),E=document.createElement("input"),y=document.createElement("label"),g=document.createElement("select"),b=document.createElement("option"),k=document.createElement("option"),L=document.createElement("option"),v=document.createElement("label"),C=document.createElement("input"),M=document.createElement("button");a.setAttribute("for","Title"),u.setAttribute("type","text"),u.setAttribute("id","titleInput"),u.setAttribute("name","title"),m.setAttribute("for","Description"),p.setAttribute("type","text"),p.setAttribute("id","descriptionInput"),p.setAttribute("name","description"),h.setAttribute("for","Due date"),E.setAttribute("type","date"),E.setAttribute("id","dateInput"),E.setAttribute("name","date"),y.setAttribute("for","Priority"),g.setAttribute("type","text"),g.setAttribute("id","priorityInput"),b.setAttribute("value","High"),k.setAttribute("value","Medium"),L.setAttribute("value","Low"),b.innerHTML="High",k.innerHTML="Medium",L.innerHTML="Low",v.setAttribute("for","Check"),C.setAttribute("type","checkbox"),C.setAttribute("id","checkInput"),C.setAttribute("name","check"),C.setAttribute("value","done"),o.innerHTML="<h2>Task</h2>",M.innerHTML="Add task",a.innerHTML="<h4>Title</h4>",m.innerHTML="<h4>Description</h4>",h.innerHTML="<h4>Due Date</h4>",y.innerHTML="<h4>Priority</h4>",v.innerHTML="Complete",M.setAttribute("type","submit"),M.classList.add("submit");let T=e(s,c,d);l.appendChild(a),l.appendChild(u),l.appendChild(m),l.appendChild(p),l.appendChild(h),l.appendChild(E),l.appendChild(y),l.appendChild(g),l.appendChild(v),l.appendChild(C),l.appendChild(M),g.appendChild(b),g.appendChild(k),g.appendChild(L),d.innerHTML=T,M.addEventListener("click",(t=>{t.preventDefault(),s=r(c),d.innerHTML="",document.getElementById("titleInput").value="",document.getElementById("descriptionInput").value="",document.getElementById("dateInput").value="",document.getElementById("priorityInput").value="",document.getElementById("checkInput").value="",d.innerHTML=e(s,c,d)})),o.appendChild(d),o.appendChild(l),function(e,n){let i=Array.from(document.getElementsByClassName("taskStatus"));console.log(i),console.log(e),i.forEach((i=>i.addEventListener("click",(i=>{let r=i.target;if("Done"===r.innerHTML)r.innerHTML="Undone",t(e,r,!1,n);else{console.log(r);const i=!0;r.innerHTML="Done",t(e,r,i,n)}}))))}(c,s),function(e,t){let r=Array.from(document.getElementsByClassName("taskDelete"));console.log(r),r.forEach((r=>r.addEventListener("click",(r=>{let c=r.target.id.slice(6);t[e]._task.splice(c,1),i.storageMyProjects(t);let o=document.getElementById("taskList");console.log(o),n(e)}))))}(c,s),function(){let e=Array.from(document.getElementsByClassName("taskEdit"));console.log(e)}()},currentTaskList:e,projects:function(){const e=document.getElementById("project"),t=document.createElement("button");t.classList.add("addButton"),e.innerHTML="<h2>Projects</h2>",t.innerHTML="+";const n=document.createElement("form"),i=document.createElement("label"),r=document.createElement("input");return i.innerHTML="<b>Add project</b>",i.setAttribute("for","ptitle"),r.setAttribute("type","text"),r.setAttribute("id","ptitle"),r.setAttribute("name","ptitle"),t.addEventListener("click",(()=>{c()})),n.appendChild(i),n.appendChild(r),e.appendChild(t),e.appendChild(n),e}}})();!function(){const e=document.getElementById("project"),t=document.createElement("div");t.addEventListener("click",(e=>{let t=e.target.id;o.showTask(t)})),o.projects(),o.showProjects(t),e.appendChild(t)}()})();